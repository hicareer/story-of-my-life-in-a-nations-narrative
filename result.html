<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë‹¹ì‹ ì˜ ì¸ìƒ ìœ í˜•ì€?</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #f9fafb;
    }
    .emoji {
      font-size: 2.5rem;
    }
  </style>
</head>
<body class="flex flex-col items-center p-6">
  <div class="max-w-2xl w-full bg-white rounded-2xl shadow-lg p-6">
    <h1 class="text-2xl font-bold text-center mb-4">ğŸŒŸ ë‹¹ì‹ ì˜ ê²°ê³¼ëŠ”?</h1>
    <div id="result" class="space-y-4"></div>
    <div class="text-center mt-8">
      <a href="question.html" class="text-blue-500 underline">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œ í•˜ê¸°</a>
    </div>
  </div>

  <script>
    const results = [
      {
        code: "ğŸ§±+ğŸš€+ğŸ›¡",
        emoji: "ğŸ°",
        title: "ê³ êµ¬ë ¤",
        subtitle: "ë‹¹ì‹ ì€, ì¤‘ì‹¬ì´ ë‹¨ë‹¨í•œ í™•ì¥ê°€",
        keywords: ["í™•ì¥", "ìˆ˜ì„±", "ì¤‘ì‹¬ì¶•", "ê²°ê¸°", "ì „ëµì  íŒë‹¨"],
        graph: "ì´ˆë°˜ ê¸‰ìƒìŠ¹ â†’ ì™¸ë¶€ ì¶©ëŒ â†’ ë°©ì–´ì™€ ë‚´ë©´ ê°•í™” â†’ ê¾¸ì¤€í•œ í™•ì¥"
      },
      {
        code: "ğŸŒŠ+ğŸŒ¿+ğŸ”¥",
        emoji: "ğŸ¨",
        title: "ì•Œ ì•ˆë‹¬ë£¨ìŠ¤",
        subtitle: "ë‹¹ì‹ ì€, ì¡°í™”ë¡œìš´ ê°ê°ì˜ ì˜ˆìˆ ê°€",
        keywords: ["ë‹¤ì–‘ì„±", "ìœµí•©", "ê°ì„±", "ì´ìƒ", "ê· í˜•"],
        graph: "ì„œì„œíˆ ê³ ì¡° â†’ ì°½ì¡°ì  í™©ê¸ˆê¸° â†’ ì™¸ë¶€ ë³€í™” â†’ ê¸°ì–µê³¼ í”ì ìœ¼ë¡œ ì´ì–´ì§"
      },
      {
        code: "ğŸ§±+ğŸŒ¿+ğŸ”¥",
        emoji: "ğŸ“š",
        title: "í—¬ë ˆë‹ˆì¦˜ ì œêµ­",
        subtitle: "ë‹¹ì‹ ì€, ê²¹ê²¹ì˜ ì •ì²´ì„±ì„ í’ˆì€ í•´ì„ì",
        keywords: ["í˜¼ì¢…ì„±", "ì§€ì„±", "ë¯¸í•™", "ë‹¤ì¤‘ì •ì²´ì„±", "ê· í˜•ê°ê°"],
        graph: "ë‹¤ì¸µì  ì‹œì‘ â†’ í˜¼í•©ê¸° â†’ ì¼ì‹œì  í˜¼ë€ â†’ ë‚´ë©´í™”ëœ ì•ˆì •ê°"
      }
      // ... ë‚˜ë¨¸ì§€ 9ê°œë„ ì´ í˜•ì‹ìœ¼ë¡œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.
    ];

    function getTop3Emojis(scoreObj) {
      const sorted = Object.entries(scoreObj).sort((a, b) => b[1] - a[1]);
      return sorted.slice(0, 3).map(([emoji]) => emoji).join("+");
    }

    function loadResult() {
      const raw = localStorage.getItem("score");
      if (!raw) {
        document.getElementById("result").innerHTML = "<p>ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      const score = JSON.parse(raw);
      const code = getTop3Emojis(score);
      const result = results.find(r => r.code === code);

      if (!result) {
        document.getElementById("result").innerHTML = "<p>ê²°ê³¼ ë§¤ì¹­ ì‹¤íŒ¨! í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ í•´ë³´ì„¸ìš”.</p>";
        return;
      }

      document.getElementById("result").innerHTML = `
        <div class="text-center">
          <div class="emoji mb-2">${result.emoji}</div>
          <h2 class="text-xl font-semibold">${result.title}</h2>
          <p class="text-gray-600 text-sm mt-1">${result.subtitle}</p>
        </div>
        <div class="mt-4">
          <h3 class="font-semibold mb-1">ğŸ“Œ í‚¤ì›Œë“œ</h3>
          <ul class="list-disc list-inside text-gray-700">
            ${result.keywords.map(k => `<li>${k}</li>`).join("")}
          </ul>
        </div>
        <div class="mt-4">
          <h3 class="font-semibold mb-1">ğŸ“ˆ ë‹¹ì‹ ì˜ ì¸ìƒ ê·¸ë˜í”„</h3>
          <p class="text-gray-700">${result.graph}</p>
        </div>
      `;
    }

    loadResult();
  </script>
</body>
</html>
