<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>나의 인생은 어떤 나라의 서사와 닮았을까?</title>
  <style>
    @font-face {
      font-family: 'Heritage';
      src: url('heritage-medium.ttf') format('truetype');
      font-weight: 500;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Heritage', serif;
      background: url('지도%20배경.png') no-repeat center center fixed;
      background-size: cover;
      color: white;
    }

    .container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      padding: 20px;
      text-align: center;
    }

    .question {
      font-size: 1.4em;
      margin-bottom: 30px;
    }

    .option-button {
      background-color: rgba(255, 255, 255, 0.1);
      border: 2px solid white;
      border-radius: 10px;
      color: white;
      padding: 12px 20px;
      margin: 10px;
      font-size: 1em;
      width: 80%;
      max-width: 300px;
      font-family: 'Heritage', serif;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .option-button:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="question" id="question"></div>
    <button class="option-button" id="optionA" onclick="selectOption('A')"></button>
    <button class="option-button" id="optionB" onclick="selectOption('B')"></button>
  </div>

  <script>
    const steps = [
      { question: '새로운 목표를 세울 때 나는?', A: '현실적인 계획을 먼저 세운다', B: '일단 시작하고 감으로 조정한다' },
      { question: '어떤 방식으로 나를 성장시켜 왔는가?', A: '꾸준한 루틴과 반복', B: '다양한 경험과 도전' },
      { question: '큰 결정을 앞두고 나는?', A: '여러 가능성을 시뮬레이션해본다', B: '일단 흐름을 믿고 움직여본다' },
      { question: '성취를 느끼는 순간은?', A: '내가 영향력을 발휘할 때', B: '내 안의 균형을 되찾았을 때' },
      { question: '다른 사람과 함께할 때 나는?', A: '리드하며 변화의 중심이 된다', B: '조율하며 흐름을 안정시킨다' },
      { question: '새로운 분야에 도전할 때 나는?', A: '내 한계를 넘는 데 흥미를 느낀다', B: '익숙해질 시간을 갖고 천천히 들어간다' },
      { question: '예상치 못한 문제가 생기면 나는?', A: '구조를 점검하고 해결 방안을 찾는다', B: '내 경험과 감정을 바탕으로 풀어낸다' },
      { question: '나를 다시 일으키는 힘은?', A: '시스템·루틴·방법론', B: '이야기·기억·상징 같은 감정의 힘' },
      { question: '위기 상황에서 누군가 조언을 해준다면?', A: '구체적인 해결 방안을 듣고 싶다', B: '나의 감정을 공감해주는 말을 원한다' },
    ];

    const step = parseInt(new URLSearchParams(window.location.search).get('step')) || 1;
    const data = steps[step - 1];

    if (!data) {
      window.location.href = 'result.html';
    } else {
      document.getElementById('question').innerText = data.question;
      document.getElementById('optionA').innerText = data.A;
      document.getElementById('optionB').innerText = data.B;
    }

    function selectOption(choice) {
      let answers = JSON.parse(localStorage.getItem('answers') || '{}');
      answers[`Q${step}`] = choice;
      localStorage.setItem('answers', JSON.stringify(answers));
      window.location.href = `question.html?step=${step + 1}`;
    }
  </script>
</body>
</html>
