<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>질문 진행 중...</title>
  <style>
    body {
      background: url("지도 배경.png") no-repeat center center fixed;
      background-size: cover;
      font-family: sans-serif;
      color: #f4ede3;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      padding: 0 2rem;
      text-align: center;
    }

    h1 {
      font-size: 1.4em;
      margin-bottom: 2rem;
    }

    .answer-button {
      display: block;
      margin: 0.5rem auto;
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid #f4ede3;
      border-radius: 8px;
      cursor: pointer;
      color: #f4ede3;
      transition: all 0.3s;
    }

    .answer-button:hover {
      background-color: rgba(255, 255, 255, 0.25);
    }
  </style>
</head>
<body>
  <h1 id="question">질문을 불러오는 중입니다...</h1>
  <div id="answers"></div>

  <script>
    const questions = [
      {
        q: "새로운 일이 주어졌을 때, 나는...",
        a: ["직관적으로 부딪혀본다 🌊", "계획부터 세운다 🧱", "도전이 먼저다 🚀"]
      },
      {
        q: "사람들과 함께할 때 나는...",
        a: ["감정을 잘 읽는다 🌿", "전체를 조율한다 🔥", "방어적일 때도 있다 🛡"]
      },
      {
        q: "삶의 우선순위는?",
        a: ["균형과 감성 🌿", "구조와 안정 🧱", "확장과 영향력 🚀"]
      },
      {
        q: "위기 상황에서 나는...",
        a: ["단단하게 버틴다 🛡", "흐름을 바꾼다 🌊", "결단력 있게 행동한다 🔥"]
      },
      {
        q: "평소 나는 이런 사람이다:",
        a: ["감각적인 편 🌿", "계획적인 편 🧱", "모험을 즐기는 편 🚀"]
      },
      {
        q: "주변 사람들은 나를 이렇게 본다:",
        a: ["듬직하고 신중해 🛡", "유연하고 친화력이 좋아 🌊", "에너지 넘치고 주도적이야 🔥"]
      },
      {
        q: "마음을 가장 움직이는 말은?",
        a: ["흐름 속에 길이 있다 🌊", "기초가 무너지면 모든 게 무너진다 🧱", "멈추지 않는 게 중요하다 🚀"]
      },
      {
        q: "삶을 하나의 이미지로 표현한다면?",
        a: ["파도 🌊", "성벽 🧱", "불꽃 🔥"]
      }
    ];

    let qIndex = 0;
    const score = { "🌊": 0, "🧱": 0, "🚀": 0, "🌿": 0, "🔥": 0, "🛡": 0 };

    function showQuestion() {
      const q = document.getElementById("question");
      const btns = document.getElementById("answers");

      q.innerText = questions[qIndex].q;
      btns.innerHTML = "";

      questions[qIndex].a.forEach(ans => {
        const btn = document.createElement("button");
        btn.innerText = ans;
        btn.className = "answer-button";
        btn.onclick = () => {
          const icon = ans.match(/[\u{1F300}-\u{1F9FF}]/u)?.[0];
          if (icon) score[icon]++;
          qIndex++;
          if (qIndex < questions.length) {
            showQuestion();
          } else {
            localStorage.setItem("score", JSON.stringify(score));
            location.href = "result.html";
          }
        };
        btns.appendChild(btn);
      });
    }

    window.onload = showQuestion;
  </script>
</body>
</html>
